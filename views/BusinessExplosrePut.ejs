
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Update User</title>
</head>
<body>

  <h1>Update User</h1>

  <script>
    // JavaScript to dynamically select the Explore Business Category
    document.addEventListener('DOMContentLoaded', function() {
      const exploreBusinessCategorySelect = document.getElementById('exploreBusinessCategory');
      const currentCategory = '<%= user.exploreBusiness ? user.exploreBusiness.category : '' %>';

      for (let i = 0; i < exploreBusinessCategorySelect.options.length; i++) {
        if (exploreBusinessCategorySelect.options[i].value === currentCategory) {
          exploreBusinessCategorySelect.options[i].selected = true;
          break;
        }
      }
    });
  </script>

  <% if (user) { %>
    <form action="/update/<%= user.email %>" method="post">
      <label for="firstName">First Name:</label>
      <input type="text" id="firstName" name="firstName" value="<%= user.firstName %>" required>
      
      <label for="lastName">Last Name:</label>
      <input type="text" id="lastName" name="lastName" value="<%= user.lastName %>" required>
      
      <label for="email">Email:</label>
      <input type="email" id="email" name="email" value="<%= user.email %>" required readonly>

      <label for="desc">Description:</label>
      <textarea id="desc" name="desc"><%= user.desc %></textarea>

      <label for="exploreBusinessCategory">Explore Business Category:</label>
      <select id="exploreBusinessCategory" name="exploreBusinessCategory">
        <option value="businessProposal">Business Proposal</option>
        <option value="otherCategory">Other Category</option>
      </select>

      <label for="mobileWeb">Mobile Website:</label>
      <input type="text" id="mobileWeb" name="mobileWeb" value="<%= user.mobileWeb %>">

      <label for="website">Website:</label>
      <input type="text" id="website" name="website" value="<%= user.website %>">

      <button type="submit">Update User</button>
    </form>
  <% } else { %>
    <p>User not found.</p>
  <% } %>

</body>
</html>

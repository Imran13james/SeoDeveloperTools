<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Buyer Payment Forms</title>
</head>

<body>


  <a
  href="/admin/collection-ensureIndex/kira-yagami-082561-lira-Integrate-page-of-admin-931249/success"
  role="button">Go tO Home</a>
<h2>Buyer Payment Users  Forms</h2>
  <input type="search" id="searchInput" onkeyup="searchTable()"
 placeholder="Enter Name | userName | email ">
<h1 class="h1" style="text-align: center; margin-top: 1rem;"></h1>
    <table class="zigzag" id="userTable">
        <thead >
            <tr >
                 <th class="header">Name</th>
                 <th class="header">Email</th>
                 <th class="header">Username</th>
                 <th class="header">Unique Pin</th>
                 <th class="header">Seller Email</th>
                 <th class="header">Account Serial No</th>
                 <th class="header">Account Type</th>
                 <th class="header">Account Price</th>
                 <th class="header">Account Tax</th>
                 <th class="header">Total Account Price</th>
                 <th class="header">Payment Method</th>

                 <th class="header">Payment Screenshot</th>
                 <th class="header">Transaction ID</th>
                 <th class="header">Transaction Date</th>
                 <th class="header">Transaction Time</th>
            </tr>
        </thead>
        <tbody >
            <% users.forEach(user=> { %>
                <tr class="table-row">
                     <td class="table_td table_mobile-title">
                        <%= user.firstName %>
                            <%= user.lastName %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.email %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.userName %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.uniquePin %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.sellerEmail %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.accountSerialNo %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.accountType %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.accountPrice %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.accountTax %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.totalAccountPrice %>
                    </td>
                    <td class="table_td table_mobile-title">
                      <%= user.selectPaymentMethod %>
                  </td>
                
                     <td class="table_td table_mobile-title">
                        <% if (user.paymentScreenshot) { %>
                            <img src="/buyerPayment-form/paymentScreenshot/<%= user.paymentScreenshot %>"
                                alt="Payment Screenshot" class="payment-image"
                                data-fullscreen-src="/buyerPayment-form/paymentScreenshot/<%= user.paymentScreenshot %>"
                                width="100" />
                            <% } else { %>
                                No screenshot available
                                <% } %>
                    </td>

                     <td class="table_td table_mobile-title">
                        <%= user.transitionId %>
                    </td>
                   
                     <td class="table_td table_mobile-title">
                        <%= user.transactionDate %>
                    </td>
                     <td class="table_td table_mobile-title">
                        <%= user.transactionTime %>
                    </td>
                </tr>
                <% }); %>
        </tbody>
    </table>
</body>

</html>
<style>
  body {
      overflow: scroll;
  }

  a {
      color: white;
      text-decoration: none;
      padding: 0.6rem;
      border-radius: 0.3rem;
      background-color: green;
      position: relative;
      top: 1rem;
  }

  h2 {
      text-align: center;
  }

  input[type="search"] {
      padding: 10px;
      border-radius: 5px;
      outline: none;
      width: 250px;
      position: relative;
      left: 50%;
      transform: translate(-50%);
  }

  table {
      border-collapse: collapse;
      width: 100%;
      margin-top: 1rem;
  }

  th, td {
      white-space: nowrap;
      padding: 10px;
      border: 1px solid #ddd;
      text-align: center;
  }
</style>

<script>
  function searchTable() {
      const input = document.getElementById('searchInput');
      const filter = input.value.toUpperCase();
      const table = document.getElementById('userTable');
      const trs = table.getElementsByTagName('tr');

      for (let i = 0; i < trs.length; i++) {
          let match = false;
          const tds = trs[i].querySelectorAll('td:nth-child(1), td:nth-child(2), td:nth-child(3)'); // Selecting username and email cells

          for (let j = 0; j < tds.length; j++) {
              const td = tds[j];
              if (td) {
                  if (td.innerHTML.toUpperCase().indexOf(filter) > -1) {
                      match = true;
                      break;
                  }
              }
          }

          if (match) {
              trs[i].style.display = '';
          } else {
              trs[i].style.display = 'none';
          }
      }
  }

  var totalAccounts = document.querySelectorAll('#userTable tbody tr').length;

// Update the content of the h1 element with the total count
document.querySelector('h1').innerText = 'Total Buyer Payment froms : ' + totalAccounts;
</script>

  
  
